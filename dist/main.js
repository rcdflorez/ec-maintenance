"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}!function(){var e="https://services.explorecredit.com",t="prod",a=window.location.href;0<=a.indexOf("dev-")||0<=a.indexOf("local")||(e=0<=a.indexOf("staging-")?(t="staging","http://staging-services.explorecredit.com"):(t="prod","https://services.explorecredit.com")),window.constants={APP_MODE:t,APP_END_POINT:e,KS_MIN:500,KS_MAX:3e3},window.custQuotes=[{name:" - Holly",quote:"Excellent customer service. So easy to work with always"},{name:" - Charles",quote:"Nice to work with was able to change my schedule when I needed to"},{name:" - Millie",quote:"I want to thank you all for helping me when I had a major bill due and you'll approve my loan.Thanks."},{name:" - Brian",quote:"Excellent people easy terms just as advertised would borrow again"},{name:" - David",quote:"Was helped with payment due to the Corona virus mess and I was helped in a immediately professional and kind manner .. thank you!"},{name:" - Michelle",quote:"Excellent loan with no complications or hidden fees"}]}();var birthDate=new Date,dateToday=new Date,dateToday2=new Date,max_Date=new Date;function getFormattedDate(e){var t=e.getFullYear();return(1+e.getMonth()).toString().padStart(2,"0")+"/"+e.getDate().toString().padStart(2,"0")+"/"+t}dateToday2=getFormattedDate(dateToday2),console.log(dateToday2),dateToday.setDate(dateToday.getDate()),max_Date.setDate(max_Date.getDate()+29),birthDate.setFullYear(birthDate.getFullYear()-18);var nextPayDate=new Date,numberOfDaysToAdd=5;nextPayDate.setDate(nextPayDate.getDate()+numberOfDaysToAdd),jQuery("#date_of_birth").datepicker({uiLibrary:"bootstrap4",maxDate:birthDate}),jQuery("#next_pay_date").datepicker({uiLibrary:"bootstrap4",value:dateToday2,minDate:dateToday,maxDate:max_Date}),jQuery("#rcrCustnpdate").datepicker({uiLibrary:"bootstrap4",numberOfMonths:1,minDate:nextPayDate}),jQuery(".btn-previous").click(previousStep),$("#PrivacyPolicy").on("show.bs.modal",function(e){PDFObject.embed("src/docs/Privacy-Policy-Explore.pdf","#pdfTest")}),$("#TermsofUse").on("show.bs.modal",function(e){PDFObject.embed("src/docs/Terms-of-use-Explore.pdf","#useTermsPdf")}),$("#ElectronicDisclosure").on("show.bs.modal",function(e){PDFObject.embed("src/docs/Electronic-Disclosure-Explore.pdf","#ElectronicDisclosurePdf")}),$("#CreditPullAuthorization").on("show.bs.modal",function(e){PDFObject.embed("src/docs/Authorization-Obtain-Credit-Report-Explore.pdf","#CreditPullAuthorizationPdf")}),$("#exampleModalScrollable").on("show.bs.modal",function(e){PDFObject.embed("src/docs/ECOA-Disclosure.pdf","#exampleModalScrollablePdf")}),"prod"==window.constants.APP_MODE&&window.addEventListener("beforeunload",function(e){if(1==!$("#customCheck1").prop("checked")){window.abandonedLeadErrors.final_date_time=getTime(),window.abandonedLeadErrors.unic_id=window.abandonedLead.unic_id,window.abandonedLeadErrors.ip_address=window.abandonedLead.ip_address;var t=JSON.stringify(window.abandonedLeadErrors.validation_errors);window.abandonedLeadErrors.validation_errors=t,!0===$("#consentCheck").prop("checked")&&($.ajax({type:"POST",url:"./service/abandonedLead.php",data:window.abandonedLead}),$.ajax({type:"POST",url:"./service/abandonedLeadErrors.php",data:window.abandonedLeadErrors}),window.abandonedLead.email&&$.ajax({type:"POST",url:"http://69.61.83.183:8030/Integration/MessagingPlatformCommunication",data:{EmailAddress:window.abandonedLead.email,MessageType:"Email",TemplateName:"NEW_CART_ABANDONMENT_1"}})),e.preventDefault(),e.returnValue=""}});var autodialer_consent="false";function getTime(){var e=new Date,t=e.getMonth()+1+"-"+e.getDate()+"-"+e.getFullYear(),a=e.getHours()+":"+e.getMinutes()+":"+e.getSeconds();return dateTime=t+" "+a}function checkDevice(){var e,t=!1;e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0);var a="Desktop";return!0===t&&(a="Mobile"),[a,navigator.userAgent]}function autoFillStep1(){}function autoFillStep2(){$("#email").val(faker.fake("test.renee.hiverson"+moment().unix()+"@gmail.com")),$("#ssn").val(faker.helpers.replaceSymbolWithNumber("###-##-####"));var e=moment().add(-faker.random.number(30),"years").add(faker.random.number(30),"days");$("#date_of_birth").val(e.subtract(18,"years").format("MM/DD/YYYY"))}function autoFillStep3(){$("#first_name").val(faker.fake("{{name.firstName}}")),$("#last_name").val(faker.fake("{{name.lastName}}")),$("#cell_phone").val(faker.random.number({min:1e9,max:1e10})),$("#address").val(faker.address.streetAddress(!1)),$("#city").val(faker.address.city),$("#zip").val(faker.address.zipCode("#####")),$("#stp3taay").val(faker.random.number({min:1,max:10})),$("#stp3taam").val(faker.random.number({min:0,max:12})),$("#drivers_license_number").val(faker.helpers.replaceSymbolWithNumber("#######")),$("#driver_license_state").val(faker.address.stateAbbr),$("#customRadioInline1").prop("checked",!0).trigger("click")}function autoFillStep4(){$("#monthly_income").val(faker.random.number({min:1e3,max:1e4})),$("#next_pay_date").val(moment().add(faker.random.number(30),"days").format("MM/DD/YYYY")),$("#employer_name").val(faker.fake("{{name.findName}}")),$("#stp4cphone").val(faker.random.number({min:1e9,max:1e10})),$("#employer_address").val(faker.address.streetAddress(!1)),$("#stp4jtitle").val(faker.name.title),$("#stp4tajy").val(faker.random.number({min:1,max:10})),$("#stp4tajm").val(faker.random.number({min:0,max:12}))}function autoFillStep5(){$("#bank_account_number").val(faker.fake("{{finance.account}}")),$("#routing_number").val(faker.fake("{{finance.account}}")+""+faker.random.number({min:1,max:9})),$("#stp5hlbpy").val(faker.random.number({min:1,max:10})),$("#stp5hlbpm").val(faker.random.number({min:0,max:12}))}function sleep(t){return new Promise(function(e){return setTimeout(e,t)})}function autoPopulate(){autoFillStep1(),autoFillStep2(),autoFillStep3(),autoFillStep4(),autoFillStep5()}$("#routing_number").blur(function(){var e="https://www.routingnumbers.info/api/data.json?rn="+$("#routing_number").val();$.getJSON(e,function(e){}).done(function(e){console.log(e.responseJSON),$("#bank_name").val(e.customer_name)})}),$("#zip").blur(function(){var e="https://api.zippopotam.us/us/"+$("#zip").val();$.getJSON(e,function(e){}).done(function(e){e.places[0]["place name"]&&$("#city").val(e.places[0]["place name"])})}),$("#employer_zip_code").blur(function(){var e="https://api.zippopotam.us/us/"+$("#employer_zip_code").val();$.getJSON(e,function(e){}).done(function(e){e.places[0]["place name"]&&($("#employer_city").val(e.places[0]["place name"]),$("#employer_state").val(e.places[0]["state abbreviation"]))})}),$("#customCheck2").change(function(){this.checked&&(autodialer_consent="true",window.formData.autodialer_consent=autodialer_consent)}),$("#dlLabel").tooltip(),$("#myModal").on("shown.bs.modal",function(){$("#myInput").trigger("focus")});var Stepper=function(){function e(){_classCallCheck(this,e),this.step=0,this.listeners=[]}return _createClass(e,[{key:"addListener",value:function(e){this.listeners.push(e)}},{key:"update",value:function(t){this.listeners.forEach(function(e){return e(t)})}},{key:"nextStep",value:function(){return this.step=this.step+1,this.update(this.step),this.step}},{key:"prevStep",value:function(){return 0<this.step&&(this.step=this.step-1,console.log(this),$("div.side-bar-menu .navbar-nav li.nb-stp-"+this.step).removeClass("completed"),this.update(this.step)),this.step}},{key:"getCurrentStep",value:function(){return this.step}}]),e}();function previousStep(){window.stepsForm.prevStep()}function nextStep(){var e=window.stepsForm.getCurrentStep();window.t1=performance.now(),$("div.name").html(window.custQuotes[e].name),$("div.cust_quote").html('"'+window.custQuotes[e].quote+'"'),step1Result=4.5,1<=e?(console.log(window.ga_clientID+" AppStepLoad-"+window.stepsNames[window.stepsForm.getCurrentStep()+1]+" | "+window.IpAddress+" | "+window.email+" | "+window.lastfour),window.abandonedLead.unic_id=window.ga_clientID,window.abandonedLead.ip_address=window.IpAddress,window.abandonedLead.email=window.email,window.abandonedLead.last_four=window.lastfour,window.abandonedLead.cell_phone=$("#cell_phone").val()):(console.log("Step "+window.stepsForm.getCurrentStep()+" has been completed on: "+(window.t1-window.t0)+" miliseconds."),window.StepTime[window.stepsForm.getCurrentStep()]=window.t1-window.t0,console.log(window.ga_clientID+" AppStepLoad-"+window.stepsNames[window.stepsForm.getCurrentStep()+1]+" | "+window.IpAddress),window.abandonedLead.unic_id=window.ga_clientID,window.abandonedLead.ip_address=window.IpAddress),e<MAX_STEPS&&window.stepsForm.nextStep()}function handleStepChange(e){if(console.log(e),e<MAX_STEPS){jQuery(".step").hide(),jQuery(".step-"+(e+1)).show(),$("div.side-bar-menu .navbar-nav li").removeClass("active"),window.scrollTo({top:0,behavior:"smooth"});var t=window.stepsProgress[e];$(".progress-bar").css({width:t+"%"}),$(".progress-bar").attr("aria-valuenow",t),$("div.side-bar-menu .navbar-nav li.nb-stp-"+(e-1)).addClass("completed"),$("div.side-bar-menu .navbar-nav li.nb-stp-"+e).addClass("active");var a=window.statesRules[e];a&&(history.pushState({},a.title,a.url+window.location.search),ga("set","page",window.location.pathname.substring(1)+"*"),ga("send","pageview"))}}function initApp(){window.StepTime={},window.t0=performance.now(),$("#autoplink").click(function(){autoPopulate()});var e=document.referrer;window.formData.reference_id=""!=e?"source="+e+"&GAID="+window.ga_clientID:"source=directTraffic&GAID="+window.ga_clientID;var t="",a="",n="",o=new URL(location).searchParams;window.abandonedLead={},window.abandonedLeadErrors={},window.abandonedLeadErrors.device_info=checkDevice().toString(),window.abandonedLeadErrors.validation_errors={},window.abandonedLeadErrors.initial_date_time=getTime(),initFormValidations(nextStep),window.stepsForm=new Stepper,window.stepsForm.addListener(handleStepChange),e="mailoffer";var s=o.get("pin");if(null!=s){var i=!1;return console.log(s),fetch("https://search-service.explore-test.workers.dev/?pin="+s).then(function(e){return e.json()}).then(function(e){e.LINE_AMOUNT?initRangeSlider("",parseInt(e.LINE_AMOUNT.replace(/,/g,""))):i=!0}),void $("#customer_state").change(function(){$(this).hasClass("is-invalid")&&$(this).removeClass("is-invalid"),$("#stp1inputValue").hasClass("simuleDisabled")&&($("#stp1inputValue").css("background-color","white"),$("#loan_request_amount, #stp1inputValue").prop("readonly",!1)),$("#loan_request_amount").prop("disabled",!1),console.log(i),i&&initRangeSlider($("this").val())})}if(o.get("st")){var r=o.get("st").toUpperCase();$("#loan_request_amount").prop("min",window.constants[r+"_MIN"]),$("#loan_request_amount").prop("max",window.constants[r+"_MAX"]),$("#sliderContainer").removeClass("d-none"),$("#stp1inputValue").css("background-color","white"),initRangeSlider(r),$("#customer_state").val(r),$("#state").val($("#customer_state").val()),$("#state").attr("disabled",!0)}else $("#loan_request_amount, #stp1inputValue").prop("readonly",!0);$("#stp1inputValue").focusout(function(){var e=$(this).val(),t=parseInt($("#loan_request_amount").prop("min"),10),a=parseInt($("#loan_request_amount").prop("max"),10);"$"==e.charAt(0)&&(e=e.substring(2)),t<=(e=parseInt(e,10))&&e<=a&&("$"!=$("#stp1inputValue").val().charAt(0)&&""!=$("#stp1inputValue").val().charAt(0)&&$(this).val("$ "+e),$(this).removeClass("is-invalid"))}),$("#customer_state").change(function(){$("#state").val($("#customer_state").val()),$("#state").attr("disabled",!0),$(this).hasClass("is-invalid")&&$(this).removeClass("is-invalid"),$("#stp1inputValue").hasClass("simuleDisabled")&&($("#stp1inputValue").css("background-color","white"),$("#loan_request_amount, #stp1inputValue").prop("readonly",!1)),$("#loan_request_amount").prop("disabled",!1),r=$("#customer_state").val(),$("#loan_request_amount").prop("min",window.constants[r+"_MIN"]),$("#loan_request_amount").prop("max",window.constants[r+"_MAX"]),initRangeSlider(r),""===$("#customer_state").val()&&$("#loan_request_amount").prop("disabled",!0)}),o.get("amount")&&(hdLoanRequestAmount=o.get("amount"),hdLoanRequestAmount=hdLoanRequestAmount.replace(/[^0-9]/g,""),hdLoanRequestAmount=hdLoanRequestAmount.slice(0,-2),hdLoanRequestAmount=parseInt(hdLoanRequestAmount)),o.get("why")&&(t=o.get("why"),$("#purpose_for_loan").val(t),window.formData.PurposeForLoan=t),o.get("campaign")&&(a=o.get("campaign"),window.formData.campaign=a),o.get("utm_source")&&o.get("utm_medium")&&(window.formData.reference_id="source="+o.get("utm_source")+"|medium="+o.get("utm_medium")),o.get("atnid")&&(n=o.get("atnid"),window.formData.reference_id=n),o.get("amount")&&o.get("why")&&o.get("st")&&0<hdLoanRequestAmount&&(window.formData.loan_request_amount=hdLoanRequestAmount,window.formData.purpose_for_loan=o.get("why"),nextStep()),console.log(window.ga_clientID+" AppStepLoad-"+window.stepsNames[window.stepsForm.getCurrentStep()]+" | "+window.IpAddress)}function initRangeSlider(e,t){""===e&&""!=t&&($("#loan_request_amount").prop("max",t),$("#loan_request_amount").prop("min",300));var a="",n=document.querySelector("#loan_request_amount"),o=document.querySelector("#moneyValue"),s=document.querySelector("#stp1inputValue");o.parentElement.classList.remove("d-none"),document.querySelector("#slider-minvalue").innerHTML="$"+n.min,document.querySelector("#slider-maxvalue").innerHTML="$"+n.max;var i=parseInt($("#loan_request_amount").prop("min"));window.constants[e+"_API"]&&($("#loan_request_amount").prop("min",window.constants[e+"_API"]),i=parseInt($("#loan_request_amount").prop("min")));var r=parseInt($("#loan_request_amount").prop("max")),d=i+200;d=5*Math.ceil(d/5);var l=new URL(location).searchParams;l.get("amount")?(a=(a=(a=l.get("amount")).replace(/[^0-9]/g,"")).slice(0,-2),a=parseInt(a),$("#loan_request_amount").val(a),d=a):$("#loan_request_amount").val(d),""===e&&""!=t&&(d=t,$("#loan_request_amount").val(t)),s.value="$ "+d;var p=30;0!=window.INITSLIDERVALUE&&(p=0);var u=n.offsetWidth/(r-i),m=(n.valueAsNumber-i)*u-o.offsetParent.offsetWidth/2-p;window.INITSLIDERVALUE=window.INITSLIDERVALUE+1,o.parentElement.style.left=m+"px",o.parentElement.style.top=-(n.offsetHeight+20)+"px";var c=($("#loan_request_amount").val()-$("#loan_request_amount").attr("min"))/($("#loan_request_amount").attr("max")-$("#loan_request_amount").attr("min"));o.innerHTML="$"+d,$("#loan_request_amount").css("background","-webkit-gradient(linear, left top, right top, color-stop("+c+", #FFD100), color-stop("+c+", #E5E5E5))"),n.oninput=function(){p=3;var e=(n.valueAsNumber-i)*u-o.offsetWidth/2-p;o.innerHTML="$"+n.value,"SC"===$("#customer_state").val()&&$("#loan_request_amount").val()<=601&&(o.innerHTML="$601"),o.parentElement.style.left=e+"px"}}function initFormValidations(s){jQuery("form").submit(function(e){var t=this.id;e.preventDefault();var a=0,n=t.substring(10);if(window["validateStep"+n]&&!window["validateStep"+n]())return!1;var o=jQuery("#"+t+" :input");o.filter("[required]:visible").each(function(){jQuery(this).removeClass("cypress-validation"),jQuery(this).hasClass("is-invalid")?(a++,window.abandonedLeadErrors.validation_errors[window.stepsNames[window.stepsForm.getCurrentStep()]]?window.abandonedLeadErrors.validation_errors[window.stepsNames[window.stepsForm.getCurrentStep()]]+=", "+jQuery(this).attr("id"):window.abandonedLeadErrors.validation_errors[window.stepsNames[window.stepsForm.getCurrentStep()]]=jQuery(this).attr("id")):(jQuery(this).closest("div").addClass("was-validated"),this.validity.valid||(a++,jQuery(this).addClass("cypress-validation"),window.abandonedLeadErrors.validation_errors[window.stepsNames[window.stepsForm.getCurrentStep()]]?window.abandonedLeadErrors.validation_errors[window.stepsNames[window.stepsForm.getCurrentStep()]]+=", "+jQuery(this).attr("id"):window.abandonedLeadErrors.validation_errors[window.stepsNames[window.stepsForm.getCurrentStep()]]=jQuery(this).attr("id")))}),0===a?(o.each(function(){this.id&&0<this.id.length&&(window.formData[this.id]=jQuery(this).val())}),1<=window.stepsForm.getCurrentStep()?(console.log(window.ga_clientID+" AppStepComplete-"+window.stepsNames[window.stepsForm.getCurrentStep()]+" | "+window.IpAddress+" | "+window.email+" | "+window.lastfour),dataLayer.push({BorrowerId:"AppStepComplete: "+window.stepsNames[window.stepsForm.getCurrentStep()]+" Last4SSN: "+window.lastfour+" Email: "+window.email+" BorrowerId: "+window.ga_clientID+" IPAdd: "+window.IpAddress}),console.log("Step "+window.stepsForm.getCurrentStep()+" has been completed on: "+(performance.now()-window.t1)+" miliseconds."),window.StepTime[window.stepsForm.getCurrentStep()]=performance.now()-window.t1):console.log(window.ga_clientID+" AppStepComplete-"+window.stepsNames[window.stepsForm.getCurrentStep()]+" | "+window.IpAddress),s&&s()):window.scrollTo({top:0,behavior:"smooth"})})}function validateStep2(){return window.lastfour=jQuery("#ssn").val().slice(7),window.email=jQuery("#email").val(),!0}function validateStep3(){"undefined"==typeof hdLoanRequestAmount&&(window.formData.loan_request_amount=parseInt($("#loan_request_amount").val()));var e=0;if(""===$("#stp3taay").val()&&$("#stp3taay").val("0"),""===$("#stp3taam").val()&&$("#stp3taam").val("0"),11<$("#stp3taam").val()){var t=$("#stp3taam").val();months=t%12,years=(t-months)/12,$("#stp3taay").val(years),$("#stp3taam").val(months)}"0"==$("#stp3taay").val()&&"0"==$("#stp3taam").val()||$("#stp3taay").val()+$("#stp3taam").val()==0?($("#stp3taay, #stp3taam").closest("div").removeClass("was-validated"),$("#stp3taay , #stp3taam").addClass("is-invalid")):($("#stp3taay, #stp3taam").closest("div").addClass("was-validated"),$("#stp3taay, #stp3taam").removeClass("is-invalid")),0<$("#stp3taay").val()&&(e=12*$("#stp3taay").val());var a=parseInt($("#stp3taam").val())+e;return window.formData.time_at_residence=a,window.formData.is_military=$("input[name=customRadioInline1]:checked","#step-form-3").val(),window.formData.tag_off_from="NewAPP_PHP_JUMP",window.formData.ga_clientid=$("#hdGA_ClientID").val(),!0}function validateNextPayDate(){var e=new Date,t=new Date($("#next_pay_date").val());e.setDate(e.getDate()+30),t<=e?($("#next_pay_date").closest("div").addClass("was-validated"),$("#next_pay_date").removeClass("is-invalid")):($("#next_pay_date").closest("div").removeClass("was-validated"),$("#next_pay_date").addClass("is-invalid"))}function validateStep4(){var e=0;if(validateNextPayDate(),""===$("#stp4tajy").val()&&$("#stp4tajy").val("0"),""===$("#stp4tajm").val()&&$("#stp4tajm").val("0"),11<$("#stp4tajm").val()){var t=$("#stp4tajm").val();months=t%12,years=(t-months)/12,$("#stp4tajy").val(years),$("#stp4tajm").val(months)}"0"==$("#stp4tajy").val()&&"0"==$("#stp4tajm").val()||$("#stp4tajy").val()+$("#stp4tajm").val()==0?($("#stp4tajy, #stp4tajm").closest("div").removeClass("was-validated"),$("#stp4tajy , #stp4tajm").addClass("is-invalid")):($("#stp4tajy, #stp4tajm").closest("div").addClass("was-validated"),$("#stp4tajy, #stp4tajm").removeClass("is-invalid")),0<$("#stp4tajy").val()&&(e=12*$("#stp4tajy").val());var a=parseInt($("#stp4tajm").val())+e;return window.formData.time_at_job=a,!0}function validateRoutingNumber(e){var t="https://www.routingnumbers.info/api/data.json?rn="+$("#routing_number").val();if(e.length<9)return $("#routing_number").addClass("is-invalid"),void $("#routing_number").removeClass("is-valid");console.log(e.length),$.getJSON(t).done(function(e){return console.log(e),200==e.code?($("#bank_name").val(e.customer_name),$("#routing_number").removeClass("is-invalid"),$("#routing_number").addClass("is-valid"),!0):($("#routing_number").addClass("is-invalid"),!1)})}function validateStep5(){var e=0;if(""===$("#stp5hlbpy").val()&&$("#stp5hlbpy").val("0"),""===$("#stp5hlbpm").val()&&$("#stp5hlbpm").val("0"),11<$("#stp5hlbpm").val()){var t=$("#stp5hlbpm").val();months=t%12,years=(t-months)/12,$("#stp5hlbpy").val(years),$("#stp5hlbpm").val(months)}"0"==$("#stp5hlbpy").val()&&"0"==$("#stp5hlbpm").val()||$("#stp5hlbpy").val()+$("#stp5hlbpm").val()==0?($("#stp5hlbpy, #stp5hlbpm").closest("div").removeClass("was-validated"),$("#stp5hlbpy , #stp5hlbpm").addClass("is-invalid")):($("#stp5hlbpy, #stp5hlbpm").closest("div").addClass("was-validated"),$("#stp5hlbpy, #stp5hlbpm").removeClass("is-invalid")),0<$("#stp5hlbpy").val()&&(e=12*$("#stp5hlbpy").val());var a=parseInt($("#stp5hlbpm").val())+e;if(window.formData.bank_account_length=a,validateRoutingNumber($("#routing_number").val()),$("#routing_number").hasClass("is-valid"))return!0}function sendAPIRequest(){window.StepTime.ga_client=window.ga_clientID,console.log("Step "+window.stepsForm.getCurrentStep()+" has been completed on: "+(performance.now()-window.t1)+" miliseconds."),window.StepTime[window.stepsForm.getCurrentStep()]=performance.now()-window.t1,$.ajax({type:"POST",url:"./service/timeRecorder.php",data:window.StepTime});var t=new FormData;return Object.keys(window.formData).map(function(e){t.append(e,window.formData[e])}),jQuery.ajax({url:window.ENDPOINT_STORE+"/api/public/api/step1",type:"POST",data:t,dataType:"json",contentType:!1,processData:!1,success:function(e){var t=JSON.stringify(e);"A"===e.Status?(window.localStorage.setItem("redirectUrl",e.RedirectURL),window.location.href="/approvedScreen.php"):(window.localStorage.setItem("serviseResponse",t),window.location.href="/deniedScreen.php")}}),!1}$(":input").focus(function(){var e=$(this).attr("id");null==e&&(e=$(this).data("cy"));var t=window.location.pathname.substring(1);t=t||"EntryPage";var a=$(this).closest("form").attr("id");ga("set","page",a+"/"+t+"#"+e),ga("send","pageview")}),window.stepsProgress=[16,32,50,66,82,100],window.addEventListener("DOMContentLoaded",initApp),window.INITSLIDERVALUE=0,window.MAX_STEPS=6,window.formData={},window.ENDPOINT_STORE=window.constants.APP_END_POINT,window.statesRules=[{title:"Start Application",url:"/StartApplication"},{title:"Getting Started",url:"/GettingStarted"},{title:"General Information",url:"/GeneralInformation"},{title:"Income Verification",url:"/IncomeVerification"},{title:"Banking Information",url:"/BankingInformation"},{title:"Final Authorization",url:"/FinalAuthorization"}],window.stepsNames=["How Much Do You Need?","Create Account","General Information","Income Verification","Banking Information","Final Authorization"],$("#stp3taay,#stp3taam").change(function(){validateStep3()}),$("#stp4tajy,#stp4tajm").change(function(){validateStep4()}),$("#next_pay_date").change(function(){validateNextPayDate()}),$("#routing_number").keyup(function(){$(this).val().length<=5||validateRoutingNumber($(this).val())}),$("#stp5hlbpy,#stp5hlbpm").change(function(){validateStep5()}),$("#customCheck1").change(function(){return readyToSend=!0}),$(document).ready(function(){$("#ssn").keyup(function(){var e=this.value.replace(/\D/g,""),t="";4<e.length&&(this.value=e),3<e.length&&e.length<6&&(t+=e.substr(0,3)+"-",e=e.substr(3)),5<e.length&&(t+=e.substr(0,3)+"-",t+=e.substr(3,2)+"-",e=e.substr(5)),t+=e,this.value=t.substring(0,11)}),$("#date_of_birth, #next_pay_date, #rcrCustnpdate").keyup(function(){var e=this.value;null===e.match(/^\d{2}$/)&&null===e.match(/^\d{2}\/\d{2}$/)||(this.value=e+"/")}),$(window).keydown(function(e){if(13==e.keyCode)return e.preventDefault(),!1}),$("#stp1inputValue").keyup(function(){var e=$("#stp1inputValue").val();if(e=e.replace(/[^0-9]/g,""),(e=parseInt(e))>=$("#loan_request_amount").prop("min")&&e<=$("#loan_request_amount").prop("max")){jQuery(this).closest("div").addClass("was-validated"),$("#loan_request_amount").val(e);var t=($("#loan_request_amount").val()-$("#loan_request_amount").attr("min"))/($("#loan_request_amount").attr("max")-$("#loan_request_amount").attr("min"));$("#loan_request_amount").css("background","-webkit-gradient(linear, left top, right top, color-stop("+t+", #FFD100), color-stop("+t+", #E5E5E5))");var a=document.querySelector("#moneyValue"),n=document.querySelector("#loan_request_amount"),o=parseInt($("#loan_request_amount").prop("min")),s=parseInt($("#loan_request_amount").prop("max")),i=n.offsetWidth/(s-o),r=(n.valueAsNumber-o)*i-a.offsetWidth/2-10;a.innerHTML="$"+e,$(".sliderTooltip").css("left",r)}else jQuery(this).closest("div").removeClass("was-validated"),jQuery(this).addClass("is-invalid")}),document.querySelector("#loan_request_amount").addEventListener("input",function(e){"SC"===$("#customer_state").val()&&$(this).val()<=601?($(this).val(601),$("#stp1inputValue").val("$ 601")):""!=$("#customer_state").val()&&$("#stp1inputValue").val("$ "+$("#loan_request_amount").val());if(""!=$("#customer_state").val()){$("#stp1inputValue").removeClass("is-invalid"),$("#customer_state, #stp1inputValue").closest("div").removeClass("was-validated");var t=($(this).val()-$(this).attr("min"))/($(this).attr("max")-$(this).attr("min"));$(this).css("background","-webkit-gradient(linear, left top, right top, color-stop("+t+", #FFD100), color-stop("+t+", #E5E5E5))")}else $("#customer_state").closest("div").addClass("was-validated"),$("#customer_state").addClass("is-invalid")}),$("#stp1inputValue").click(function(){$(this).is("[readonly]")&&($("#customer_state").closest("div").addClass("was-validated"),$("#customer_state").addClass("is-invalid"))}),$("#SignLoanAgreement").click(function(){window.open(window.localStorage.getItem("redirectUrl"),"_blank")}),$("#sbmtButton").click(function(){if(1==$("#customCheck1").prop("checked")){$(this).prop("disabled",!0),$(this).html('<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span> Loading...');Math.round(+Math.random()+1);sendAPIRequest()}})});